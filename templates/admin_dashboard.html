{% extends "base.html" %}

{% block title %}Panel Administratora{% endblock %}

{% block content %}
<div style="background: white; padding: 20px; border-radius: 10px;">
    <h2>Panel Administratora</h2>
    <hr>

    <h3>‚è≥ OczekujƒÖcy na zatwierdzenie</h3>
    {% if pending_users %}
        <table border="1" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
            <tr style="background: #eee;">
                <th>U≈ºytkownik</th>
                <th>Email</th>
                <th>Akcja</th>
            </tr>
            {% for user in pending_users %}
            <tr>
                <td>{{ user['username'] }}</td>
                <td>{{ user['email'] or 'Brak' }}</td>
                <td>
                    <form method="POST" action="{{ url_for('approve_user', user_id=user['id']) }}">
                        <button type="submit" class="btn btn-success">Zatwierd≈∫</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>Brak oczekujƒÖcych u≈ºytkownik√≥w.</p>
    {% endif %}

    <h3 style="margin-top: 30px;">üë• Wszyscy u≈ºytkownicy</h3>
    <table border="1" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
        <tr style="background: #eee;">
            <th>U≈ºytkownik</th>
            <th>Status</th>
            <th>Rola</th>
        </tr>
        {% for user in all_users %}
        <tr>
            <td>{{ user['username'] }}</td>
            <td>{{ "Aktywny" if user['is_approved'] else "Czeka" }}</td>
            <td>{{ "Admin" if user['is_admin'] else "User" }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}